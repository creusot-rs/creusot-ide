# Creusot IDE

[![VSM][vsm-shield]][vsm]

[vsm-shield]: https://vsmarketplacebadges.dev/version-short/creusot-rs.creusot-ide.svg
[vsm]: https://marketplace.visualstudio.com/items?itemName=creusot-rs.creusot-ide

A VS Code extension providing support for [Creusot](https://github.com/creusot-rs/creusot), a deductive verifier for Rust code.

This project is work in progress. An official release is upcoming.

## Install Creusot IDE

[Creusot](https://github.com/creusot-rs/creusot) itself should be installed separately.

Creusot IDE consists of two parts:

1. The **Creusot IDE extension**, installed via VS Code: open VS Code > Extensions > Search "Creusot IDE".

2. The **Creusot LSP language server**, which must currently be installed separately:

        git clone https://github.com/creusot-rs/creusot-ide
        opam pin creusot-lsp creusot-ide/
        # Say yes to install creusot-lsp

    Creusot LSP currently depends on development versions of Why3 and Why3find.
    (Tested with Why3 commit `9c0548a62` and Why3find commit `1055ea5` + temporary [local patch](./why3find.patch))

        git clone https://gitlab.inria.fr/why3/why3
        opam pin why3 why3#9c0548a62

        git clone https://git.frama-c.com/pub/why3find
        cd why3find
        git checkout 1055ea5
        git apply ../creusot-ide/why3find.patch
        git commit -am "patch"
        opam pin why3find .
        cd ..

# Features

Creusot IDE helps you nagivate between your Rust sources and the verification artifacts generated by Creusot and Why3find.

- Indicators of which functions have been verified.
- Links in your editor between fragments of Rust code and their counterparts in the generated Coma and proof files.
- Display hypotheses and goal at various point of the proof.
- Syntax highlighting:
    - `.rs` files: Creusot-specific attributes and Pearlite expressions,
    - `.coma` files.

# Settings

- `creusot.lspPath`: Path to the `creusot-lsp` executable. Default: `""`, to find the executable in `PATH`.